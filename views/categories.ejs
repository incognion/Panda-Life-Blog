<% 
    const title = typeof categories !== 'undefined' ? 'Categories' : categoryId + ' Blogs';
%>

<h1 class="pb-4">Explore <%= title %></h1>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <% if (typeof categoryId !== 'undefined') { %>
            <li class="breadcrumb-item"><a href="/categories">Categories</a></li>
        <% } %>
        <li class="breadcrumb-item active" aria-current="page"><%= title %></li>
    </ol>
</nav>


<% if (typeof categories !== 'undefined') { %>
    <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3 mb-4">
        <% categories.forEach(function(category) { %>
            <a href="/categories/<%- category.name %>" class="col text-center cat_link">
                <div class="cat_img shadow">
                    <img src="/img/<%- category.image %>" alt="<%- category.name %>" loading="lazy">
                </div>
                <div class="pt-1">
                    <%- category.name %>
                </div>
            </a>
        <% }); %>
    </div>
<% } else { %>
    <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
        <% if (typeof categoryById !== 'undefined' && categoryById.length > 0) { %>
            <% categoryById.forEach(function(blog) { %>
                <a href="/blog/<%= blog._id %>" class="col text-center cat_link">
                    <div class="cat_img cat_img--large shadow">
                        <img src="<%- blog.image %>" alt="<%= blog.name %>" loading="lazy">
                    </div>
                    <div class="pt-1">
                        <%= blog.name %>
                    </div>
                </a>
            <% }); %>
        <% } else { %>
            <p>No blogs found</p>
        <% } %>
    </div>
<% } %>
